---
## Problem Details
Title: "735. Asteroid Collision"
Difficulty: "Stack"
Tags: ["Array", "Stack", "Simulation"]
Time Complexity: O(n)
Space Complexity: O(n)
---

## Intuition

Used a stack to check if two astroids will collide, under different condions.

---

## Solution

```java
class Solution {
    public int[] asteroidCollision(int[] asteroids) {
        Deque<Integer> stack = new ArrayDeque<>();

        for (int i = 0; i < asteroids.length; i++) {
            int top = stack.peek() == null ? 0 : stack.peek();
            int cur = asteroids[i];

            if (top == 0) {
                stack.push(cur);
            } else if ((top ^ cur) > 0) {
                stack.push(cur);
            } else {
                boolean flag = true;
                while ((top ^ cur) < 0 && top != 0) {
                    int t = Math.abs(top);
                    int c = Math.abs(cur);
                    if (t < c && cur < 0) {
                        flag = true;
                        stack.pop();
                    } else if (t > c && cur < 0) {
                        flag = false;
                        break;
                    } else if (t == c && cur < 0) {
                        flag = false;
                        stack.pop();
                        break;
                    } else if (cur > 0) {
                        flag = true;
                        break;
                    }
                    top = stack.peek() == null ? 0 : stack.peek();
                }
                if (flag)
                    stack.push(cur);
            }
        }

        int[] result = new int[stack.size()];
        int i = stack.size() - 1;
        while (!stack.isEmpty())
            result[i--] = stack.pop();

        return result;
    }
}
```
