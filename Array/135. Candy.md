---
## Problem Details
Title: "135. Candy"
Difficulty: "Hard"
Primary Topic: "Array"
Tags: ["Array", "Greedy"]
Time Complexity: O(n)
Space Complexity: O(n)
---

## Intuition

Simple 3 pass solution using O(n) time and space.

Pass 1:
Increase the current candy value if current index has higher ranking and lower candy than the previous index. 
Pass 2:
Increase the current candy value if current index has higher ranking and lower candy then the next index.
Pass 3:
Calculate total candies.

---

## Solution

```java
class Solution {
    public int candy(int[] ratings) {
        int n = ratings.length;
        int[] candy = new int[n];

        int candies = 0;
        
        for (int i = 1; i < n; i++) {
            if (ratings[i - 1] < ratings[i] && candy[i - 1] >= candy[i]) {
                candy[i] = candy[i - 1] + 1;              
            }
        }

        for (int i = n - 2; i > -1; i--) {
            if (ratings[i + 1] < ratings[i] && candy[i + 1] >= candy[i]) {
                candy[i] = candy[i + 1] + 1;              
            }
        }

        for (int i = 0; i < n; i++) {
            candies += candy[i] + 1;
        }

        return candies;
    }
}
```
